<nav class="grid fd-column stacks-nav js-stacks-nav" role="navigation">
    <header class="grid--cell p24 ta-center">
        <a class="mb24 d-inline-block" href="{{ "/" | relative_url }}" title="{{ site.title }}">
            {% svg /resources/svg-icons/LogoGlyphMd.svg width="32" height="37" aria-hidden="true" class="svg-icon iconLogoGlyphMd native" %}
        </a>
        <div class="ps-relative">
            <input id="searchbox" class="s-input pl32 fs-body2" type="text" placeholder="Search Stacks">
            {% svg /resources/svg-icons/Search.svg width="18" height="18" aria-hidden="true" class="svg-icon iconSearch stacks-search-icon" %}
        </div>
    </header>

    <div class="grid--cell overflow-y-auto">
        <ul id="nav" role="navigation" class="grid gs4 gsy fd-column stacks-nav--menu">
            {% for entry in site.data.nav %}
                {% assign sublinks = entry.sublinks %}
                {% assign submenu-active = "" %}

                {% if sublinks %}
                    <li class="grid fd-column stacks-nav--item">
                        <div class="grid--cell stacks-nav--category" title="{{ entry.title }}"> {{ entry.title }}</div>
                        <ul class="grid fd-column stacks-nav--subnav">
                            {% for sublink in sublinks %}
                                {% assign pageURL = page.url | remove_first:"/" | remove: ".html" %}
                                {% if pageURL == sublink.url %}
                                  {% assign submenu-active = " is-active" %}
                                  {% assign submenu-container = "" %}
                                {% else %}
                                  {% assign submenu-active = "" %}
                                  {% assign submenu-container = "" %}
                                {% endif %}
                                <li class="grid stacks-nav--item">
                                    <a class="w100 stacks-nav--link{{ submenu-active }}" href="{{ sublink.url | relative_url }}" title="{{ sublink.title }}">{{ sublink.title }}</a>
                                    {{ submenu-container }}
                                </li>
                            {% endfor %}
                        </ul>
                    </li>
                {% else %}
                    <li class="stacks-nav--item">
                        <a class="-link" href="{{ entry.url | relative_url }}" title="{{ entry.title }}">{{ entry.title }}</a>
                    </li>
                {% endif %}
            {% endfor %}
        </ul>
    </div>

    <div class="grid--cell mt-auto stacks-nav--footer">
        <div class="grid jc-space-between py16 px24">
            <a class="grid--cell stacks-nav--link" href="https://github.com/StackExchange/Stacks" title="Contribute on GitHub">GitHub</a>
            <a class="grid--cell stacks-nav--link" href="https://github.com/StackExchange/Stacks/issues/new" title="Something wrong? Missing? File an issue on GitHub">Report an issue</a>
        </div>
    </div>
</nav>
