<nav class="grid fd-column stacks-nav js-stacks-nav" role="navigation">
    <header class="grid--cell p24 ta-center">
        <a class="mb24 d-inline-block" href="{{ "/" | relative_url }}" title="{{ site.title }}">
            <svg aria-role="hidden" class="svg-icon iconLogoGlyphMedium native" width="32" height="37" viewBox="0 0 32 37"><g><path fill="#BCBBBB" d="M26 33v-9h4v13H0V24h4v9z"/><path d="M23.1 25.99l.68-2.95-16.1-3.35L7 23l16.1 2.99zM9.1 15.2l15 7 1.4-3-15-7-1.4 3zm4.2-7.4L26 18.4l2.1-2.5L15.4 5.3l-2.1 2.5zM21.5 0l-2.7 2 9.9 13.3 2.7-2L21.5 0zM7 30h16v-3H7v3z" fill="#F48024"/></g></svg>
        </a>
        <div class="ps-relative">
            <input id="searchbox" class="s-input pl32 fs-body2" type="text" placeholder="Search Stacks">
            <svg aria-hidden="true" class="svg-icon stacks-search-icon" width="18" height="18" viewBox="0 0 18 18"><path d="M12.86 11.32L18 16.5 16.5 18l-5.18-5.14v-.35a7 7 0 1 1 1.19-1.19h.35zM7 12A5 5 0 1 0 7 2a5 5 0 0 0 0 10z"></path></svg>
        </div>
    </header>

    <div class="grid--cell overflow-y-auto">
        <ul id="nav" role="navigation" class="grid gs4 gsy fd-column stacks-nav--menu">
            {% for entry in site.data.nav %}
                {% assign sublinks = entry.sublinks %}
                {% assign submenu-active = "" %}

                {% if sublinks %}
                    <li class="grid fd-column stacks-nav--item">
                        <div class="grid--cell stacks-nav--category" title="{{ entry.title }}"> {{ entry.title }}</div>
                        <ul class="grid fd-column stacks-nav--subnav">
                            {% for sublink in sublinks %}
                                {% assign pageURL = page.url | remove_first:"/" | remove: ".html" %}
                                {% if pageURL == sublink.url %}
                                  {% assign submenu-active = " is-active" %}
                                  {% assign submenu-container = "" %}
                                {% else %}
                                  {% assign submenu-active = "" %}
                                  {% assign submenu-container = "" %}
                                {% endif %}
                                <li class="grid stacks-nav--item">
                                    <a class="w100 stacks-nav--link{{ submenu-active }}" href="{{ sublink.url | relative_url }}" title="{{ sublink.title }}">{{ sublink.title }}</a>
                                    {{ submenu-container }}
                                </li>
                            {% endfor %}
                        </ul>
                    </li>
                {% else %}
                    <li class="stacks-nav--item">
                        <a class="-link" href="{{ entry.url | relative_url }}" title="{{ entry.title }}">{{ entry.title }}</a>
                    </li>
                {% endif %}
            {% endfor %}
        </ul>
    </div>

    <div class="grid--cell mt-auto stacks-nav--footer">
        <div class="grid jc-space-between py16 px24">
            <a class="grid--cell stacks-nav--link" href="https://github.com/StackExchange/Stacks" title="Contribute on GitHub">GitHub</a>
            <a class="grid--cell stacks-nav--link" href="https://github.com/StackExchange/Stacks/issues/new" title="Something wrong? Missing? File an issue on GitHub">Report an issue</a>
        </div>
    </div>
</nav>
